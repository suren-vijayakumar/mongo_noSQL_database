/*! express_router_lecture_gamma 2015-08-07 */
function getData(){$.ajax({type:"GET",url:"/things",success:function(a){console.log(a),appendToDom(a)}})}function appendToDom(a){$("#writeData").empty();for(var b=0;b<a.length;b++){$("#writeData").append("<div></div>");var c=$("#writeData").children().last();c.append("<p>"+a[b].name+"</p>"),c.append("<button data-id='"+a[b]._id+"'> DELETE </button>")}}$(document).ready(function(){$("#inputForm").submit(function(a){a.preventDefault();var b=$("#inputForm").serialize();console.log(b),$.ajax({type:"POST",url:"/things",data:b,success:function(a){console.log(a),getData()}})}),$("#writeData").on("click","button",function(){$.ajax({type:"DELETE",url:"/things/"+$(this).data("id"),success:function(){console.log(" He's gone Jim!")},error:function(a,b){alert("Error: ",b)},complete:function(){console.log("Delete Complete!")}}),$(this).parent().remove()}),getData()});